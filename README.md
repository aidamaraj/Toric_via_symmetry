# Toric via symmetry
This repository hosts the codes and and necessary computational results supporting the upcoming paper titled _Symmetry Lie Algebras of Varieties with Applications to Algebraic Statistics_.

SageMath version 10.3, Release Date: 2024-03-19                    â”‚
Using Python 3.11.8. Type "help()" for help.     

The implimentation of the key algorithm in the paper can be found in the file `Symmalg.sage`. Some examples of the how to use the code can be found in `Test_notebook.ipynb` and `Toricideal.ipynb`.

In the above mentioned paper we disprove a conjecture. The computation for that can be found in the notebook `ToricIdeal_9x9_conjecture_disproved.ipynb`.

## Documentation
`symmalg(generators, n = 0)`

This is our main function, implemented in `Symmalg.sage`.
Computes the symmetry Lie algebra of an ideal generated by the given polynomials.
    
This function takes a list of polynomial generators defining an ideal and computes its symmetry Lie algebra. It constructs a polynomial ring, determines an appropriate basis, and applies a homomorphism to obtain the symmetry Lie algebra. It returns a GAP Lie object.


`rank_poly(M)`

This is another very useful function. We used it at various places in our implementation.

This function takes a matrix "M" with polynomial entries as input, and substitutes random values for the variables and then computes the rank of the matrix. Then this function returns the found rank.

### Example 1

Initiate the ring and inject the variables
```
R = PolynomialRing(QQ,['x', 'y','z'])
R.inject_variables()
```
Compute the symmetry Lie algebra and display computation time
```
start_time = time.time()
LieI = symmalg([x^2+y^2+z^2],3)
end_time = time.time()
comp_time = end_time - start_time # Compute the elapsed time

minutes = int(comp_time // 60)
seconds = comp_time % 60

formatted_time_str = f"{minutes} min {seconds:.2f} sec"

print(f"\nComputation Time: {formatted_time_str}")
```

### Note:
The complexity of our code is not very good at the moment. The time taken grows very fast as the number of variables grow fast. The ```symmalg``` function may take very long to finish. In many cases there is room for improvement, and in one of our example we take advantage of that. Please see `ToricIdeal_9x9_conjecture_disproved.ipynb` and may try to optimize your computation as there, in case you find you code is taking too long to run the ```symmalg``` function.